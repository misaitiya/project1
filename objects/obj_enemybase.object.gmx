<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_creature</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///各种判断区域设定
//碰撞区域
touch_x1=0;       //左侧
touch_x2=0;       //右侧
touch_y1=0        //顶部
touch_y2=0        //底部

//攻击区域
atk_x1=0;       //左侧
akt_x2=0;       //右侧
atk_y1=0        //顶部
atk_y2=0        //底部

//索敌区域
search_x1=0
search_x2=0
search_y1=0
search_y2=0

target=0
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///敌人共通数据设定
//定义精灵图片,攻击动作分别定义
img_stand=0                    //通常站立
img_stand2=0                   //通常站立时的小动作
img_jump=0                     //跳起
img_down=0                     //落下
img_down2=0                    //下压
img_dash=0                     //冲刺
img_kb=0                       //硬直
Img_stand=0
count=0

image_speed=0
alarm[11]=8                     //动画

//定义基本数值
hp=0
max_hp=0                       //最大hp
mp=0
max_mp=0                       //最大mp

move_speed=0                   //水平移动速度
dash_speed=0                   //冲刺速度
dash_count=0                   //冲刺计时
max_dash_count=0               //最大冲刺计时
jump_speed=0                   //跳跃初速度
G=0                            //重力加速度
down_atk_speed=0               //下压攻击时的速度，不能下压攻击的角色为0
weight=0                       //重量，决定受到攻击时的硬直情况，0=轻，1=基本，2=重，3=非常重，4=绝对重量
debuff_def=0                   //异常抗性
touch_pow=0                    //碰撞力量
atk_pow=0                      //攻击力量

//状况数值
jump=0                         //是否能跳跃
can_attack=0                   //是否能攻击
can_move=0                     //能否移动
dash=0                         //是否能冲刺
down_atk=0                     //是否在下压攻击
in_air=0                       //是否在空中
on_floor=0                     //是否在地上
face=1                         //1=朝右，-1=朝左

kb=0                           //是否硬直
damaged=0                      //受到伤害
enemy=0
enemy_x=0
enemy_heavy=0
Invincible=120                 //是否能被伤害（处理连击）
T_Invincible=120               //无敌时间
combo_count=0                  //是否能连击
change_spr=1

sp_spr=0
emo=0
action=0
action_count=120
timer=0
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///道具
sp_item=0

item1=0
item2=0
item3=0
item4=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///道具判定
var tmp;

tmp=floor(random(100))
if(tmp&gt;=10 and tmp&lt;25){item1=1}
if(tmp&gt;=25 and tmp&lt;33){item1=2}
if(tmp&gt;=33 and tmp&lt;48){item1=3}
if(tmp&gt;=48 and tmp&lt;56){item1=4}
if(tmp&gt;=56 and tmp&lt;81){item1=5}
if(tmp&gt;=81 and tmp&lt;98){item1=6}
if(tmp&gt;=98 and tmp&lt;100){item1=7}

tmp=floor(random(100))
if(tmp&gt;=12 and tmp&lt;27){item2=1}
if(tmp&gt;=27 and tmp&lt;35){item2=2}
if(tmp&gt;=35 and tmp&lt;50){item2=3}
if(tmp&gt;=50 and tmp&lt;58){item2=4}
if(tmp&gt;=58 and tmp&lt;83){item2=5}
if(tmp&gt;=83 and tmp&lt;100){item2=6}

tmp=floor(random(100))
if(tmp&gt;=50 and tmp&lt;80){item3=5}
if(tmp&gt;=80 and tmp&lt;100){item3=6}

tmp=floor(random(100))
if(tmp&gt;=60 and tmp&lt;85){item4=5}
if(tmp&gt;=85 and tmp&lt;100){item4=6}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///爆道具
var tmp

if(sp_item){tmp=instance_create(x,y,obj_spitem)
            tmp.vspeed=-3;
            tmp.type=sp_item-1}

if(item1){tmp=instance_create(x,y,obj_item)
          tmp.hspeed=0.4; tmp.vspeed=-2;
          tmp.type=item1-1}
if(item2){tmp=instance_create(x,y,obj_item)
          tmp.hspeed=-0.4; tmp.vspeed=-2;
          tmp.type=item2-1}
if(item3){tmp=instance_create(x,y,obj_item)
          tmp.hspeed=1; tmp.vspeed=-1;
          tmp.type=item3-1}
if(item4){tmp=instance_create(x,y,obj_item)
          tmp.hspeed=-1; tmp.vspeed=-1;
          tmp.type=item4-1}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///小动作发生计数
if(sprite_index==img_stand and image_index=image_number-1){count+=1}
if(sprite_index==img_stand2 and image_index=image_number-1){count=0}

alarm[11]=8 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///冲刺
dash_count+=1
//残影
tmp=instance_create(x,y,obj_ghost)
tmp.sprite_index=sprite_index
tmp.image_index=image_index
tmp.image_xscale=face

//循环
if(in_air){dash_count = max_dash_count}
if(dash==1){alarm[10]=4}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///重力加速度
if(in_air and vspeed&lt;4){vspeed+=1; alarm[9]=5}
if(vspeed=4){G=0}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///基本判定
var tmp;

//空中判定
tmp=collision_line(touch_x1,y+1,touch_x2,y+1,obj_blockbase,0,0)
if(!tmp){in_air=1; on_floor=0}

//水平移动判定
if(!kb and can_move){
//障碍物判定
//向右
if(face==1){
for(i=0;i&lt;hspeed;i++){
tmp=collision_line(touch_x2+1+i,touch_y1+2,touch_x2+1+i,y-2,obj_block1,0,0)
if(tmp){x=tmp.x-1-(touch_x2-x); hspeed=0}
}}

//向左
if(face==-1){
for(i=0;i&gt;hspeed;i--){
tmp=collision_line(touch_x1-1+i,touch_y1+2,touch_x1-1+i,y-2,obj_block1,0,0)
if(tmp){x=tmp.x+16+(x-touch_x1); hspeed=0}
}}
}

//跳出房间处理
if(bbox_right&lt;0){instance_destroy()}
if(bbox_left&gt;room_width){instance_destroy()}
if(y&gt;room_height){instance_destroy()}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///障碍物判定
tmp=collision_line(touch_x2+1,touch_y1+2,touch_x2+1,y-2,obj_block1,0,0)
if(tmp and hspeed&gt;0){x=tmp.x-1-(touch_x2-x); hspeed=0
                     if(!hp){instance_create(x,y-8,obj_enemydeath)
                             instance_destroy()}}

tmp=collision_line(touch_x1-1,touch_y1+2,touch_x1-1,y-2,obj_block1,0,0)
if(tmp and hspeed&lt;0){x=tmp.x+16+(x-touch_x1); hspeed=0
                     if(!hp){instance_create(x,y-8,obj_enemydeath)
                             instance_destroy()}}

//向右移动
if(face==1){
for(i=0;i&lt;hspeed;i++){
tmp=collision_line(touch_x2+1+i,touch_y1+2,touch_x2+1+i,y-2,obj_block1,0,0)
if(tmp){x=tmp.x-1-(touch_x2-x); hspeed=0}
}}

//向左移动
if(face==-1){
for(i=0;i&gt;hspeed;i--){
tmp=collision_line(touch_x1-1+i,touch_y1+2,touch_x1-1+i,y-2,obj_block1,0,0)
if(tmp){x=tmp.x+16+(x-touch_x1); hspeed=0}
}}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///在空中
var tmp

if(in_air)
{
jump=1
if(vspeed&lt;4 and G=0 and down_atk!=1){G=1; alarm[9]=5}

//头顶判定
for(i=0;i&gt;vspeed;i--){
tmp=collision_line(touch_x1+4,touch_y1-1+i,touch_x2-4,touch_y1-1+i,obj_block1,0,0)
if(tmp and vspeed&lt;0){vspeed=0;y=tmp.y+16+(y-touch_y1)}
                    break;
}

//落下判定
for(i=0;i&lt;vspeed;i++){ 
tmp=collision_line(touch_x1+2,y+vspeed+i,touch_x2-2,y+vspeed+i,obj_blockbase,0,0)
if(tmp and vspeed&gt;0){y=tmp.y; vspeed=0; on_floor=1; in_air=0;
                     if(action){action=0}
                     if(Check_J){jump=1}
                     break;
                    }
}
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///在地上
if(on_floor){
if(kb){hspeed=0; kb=0
       if(!hp){instance_create(x,y-8,obj_enemydeath); 
               instance_destroy()}}
               
if(!kb){if(!action){hspeed=0}
        if(action_count){action_count-=1}
        if(!action_count and action){action=0}}
G=0; can_move=1
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///基本精灵变化
if(!sp_spr){
if(on_floor)
{
  if(dash!=1){
             if(count&lt;3){sprite_index=img_stand;}
             if(count&gt;=3){sprite_index=img_stand2;}        
            }
  if(dash==1){sprite_index=img_dash}
}

if(in_air)
{
  if(vspeed&lt;-1){sprite_index=img_jump;}
  if(vspeed&gt;1){sprite_index=img_down;}
  if(vspeed&lt;1 and vspeed&gt;-1){sprite_index=img_stand; image_index=0}
}

if(down_atk==1){sprite_index=img_down2}

if(kb){sprite_index=img_kb}
}
image_index=room_count
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///伤害物冲突判定
var tmp, X, Y;

//与敌人碰撞
if(enemy){tmp=enemy_x-x
          if(tmp&gt;=0){face=1}
          if(tmp&lt;0){face=-1}
          scr_kb(enemy_heavy)
          enemy=0
          }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///绘制精灵
draw_sprite_ext(sprite_index,image_index,x,y,face,1,1,c_white,1) 

//draw_rectangle_colour(touch_x1+1,touch_y1+1,touch_x2-1,touch_y2-1,c_green,c_green,c_green,c_green,1)

//draw_text(x-20,touch_y1-15,'action')
//draw_text(x+20,touch_y1-15,action)
//draw_text(x-50,touch_y1-30,'action_count')
//draw_text(x+20,touch_y1-30,action_count)
//draw_rectangle(search_x1,search_y1,search_x2,search_y2,1)
//draw_text(x,touch_y-30,on_floor)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
